//Global Variables
//Weapon crafting data generated by ClutchMasterFTW (8/1/2021)
let guns = [
    {
        name: "Makarov",
        class: "Pistol",
        amount: 0,
        level: 5,
        mag: 8,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 10,
        iron: 7,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 850
    },
    {
        name: "M1911",
        class: "Pistol",
        amount: 0,
        level: 12,
        mag: 7,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 11,
        iron: 8,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 1000
    },
    {
        name: "P99",
        class: "Pistol",
        amount: 0,
        level: 15,
        mag: 15,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 10,
        iron: 10,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 1500
    },
    {
        name: "FN Five-Seven",
        class: "Pistol",
        amount: 0,
        level: 18,
        mag: 20,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 9,
        iron: 11,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 2,
        coal: 0,
        price: 2000
    },
    {
        name: "Mac-11",
        class: "Rifle",
        amount: 0,
        level: 20,
        mag: 32,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 11,
        iron: 12,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 3750
    },
    {
        name: "MR96",
        class: "Pistol",
        amount: 0,
        level: 20,
        mag: 6,
        firemodes: "Double-Action",
        legal: true,
        ammo: "pistol",
        copper: 10,
        iron: 7,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 5,
        coal: 0,
        price: 3500
    },
    {
        name: "H&K MP5",
        class: "Rifle",
        amount: 0,
        level: 21,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 12,
        iron: 14,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 2,
        coal: 0,
        price: 4500
    },
    {
        name: "Machete",
        class: "Knife",
        amount: 0,
        level: 25,
        mag: "Doesn't accept ammo",
        firemodes: "Doesn't fire ammo",
        legal: true,
        ammo: "Doesn't accept ammo",
        copper: 10,
        iron: 7,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 2500
    },
    {
        name: "H&K UMP .45",
        class: "Rifle",
        amount: 0,
        level: 27,
        mag: 25,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 16,
        iron: 18,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 5000
    },
    {
        name: "AK-74",
        class: "Rifle",
        amount: 0,
        level: 28,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 16,
        iron: 16,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 1,
        coal: 0,
        price: 6250
    },
    {
        name: "Glock 18",
        class: "Pistol",
        amount: 0,
        level: 28,
        mag: 17,
        firemodes: "Automatic",
        legal: false,
        ammo: "pistol",
        copper: 10,
        iron: 14,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 6,
        coal: 0,
        price: 5500
    },
    {
        name: "AR-15",
        class: "Rifle",
        amount: 0,
        level: 30,
        mag: 30,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "rifle",
        copper: 16,
        iron: 16,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 6000
    },
    {
        name: "MP-40",
        class: "Exotic",
        amount: 0,
        level: 31,
        mag: 32,
        firemodes: "Automatic",
        legal: false,
        ammo: "pistol",
        copper: 16,
        iron: 18,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 2,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 16500
    },
    {
        name: "Thompson",
        class: "Rifle",
        amount: 0,
        level: 31,
        mag: 20,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 17,
        iron: 19,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 2,
        coal: 0,
        price: 8000
    },
    {
        name: "Glock 17",
        class: "Pistol",
        amount: 0,
        level: 32,
        mag: 14,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 10,
        iron: 10,
        silver: 1,
        gold: 2,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 2750
    },
    {
        name: "Kriss Vector",
        class: "Rifle",
        amount: 0,
        level: 34,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 2,
        iron: 14,
        silver: 6,
        gold: 6,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 9,
        coal: 0,
        price: 9500
    },
    {
        name: "Desert Eagle",
        class: "Pistol",
        amount: 0,
        level: 35,
        mag: 7,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 10,
        iron: 12,
        silver: 0,
        gold: 2,
        titanium: 0,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 6000
    },
    {
        name: "G36C",
        class: "Rifle",
        amount: 0,
        level: 37,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 16,
        iron: 16,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 5,
        coal: 0,
        price: 10000
    },
    {
        name: "LR-300",
        class: "Rifle",
        amount: 0,
        level: 40,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 16,
        iron: 16,
        silver: 4,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 7,
        coal: 0,
        price: 10500
    },
    {
        name: "DP-28",
        class: "Rifle",
        amount: 0,
        level: 40,
        mag: 47,
        firemodes: "Automatic",
        legal: false,
        ammo: "rifle",
        copper: 17,
        iron: 17,
        silver: 5,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 6,
        coal: 0,
        price: 11000
    },
    {
        name: "Serbu Shorty",
        class: "Shotgun",
        amount: 0,
        level: 40,
        mag: 2,
        firemodes: "Pump-Action",
        legal: false,
        ammo: "shotgun",
        copper: 7,
        iron: 9,
        silver: 3,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 12,
        willow: 0,
        steel: 11,
        coal: 0,
        price: 9500
    },
    {
        name: "G3A3",
        class: "Rifle",
        amount: 0,
        level: 42,
        mag: 20,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 5,
        iron: 17,
        silver: 9,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 14,
        coal: 0,
        price: 14500
    },
    {
        name: "Honey Badger",
        class: "Rifle",
        amount: 0,
        level: 50,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 14,
        iron: 15,
        silver: 0,
        gold: 11,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 13,
        coal: 0,
        price: 13000
    },
    {
        name: "SCAR-H",
        class: "Rifle",
        amount: 0,
        level: 52,
        mag: 20,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 16,
        iron: 16,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 10,
        coal: 0,
        price: 13500
    },
    {
        name: "M249",
        class: "Rifle",
        amount: 0,
        level: 60,
        mag: 100,
        firemodes: "Automatic",
        legal: false,
        ammo: "rifle",
        copper: 14,
        iron: 16,
        silver: 0,
        gold: 13,
        titanium: 1,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 10,
        coal: 0,
        price: 17000
    },
    {
        name: "BT MP9",
        class: "Rifle",
        amount: 0,
        level: 62,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 2,
        iron: 15,
        silver: 8,
        gold: 8,
        titanium: 2,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 5,
        coal: 0,
        price: 11250
    },
    {
        name: "Mosin Nagant",
        class: "Rifle",
        amount: 0,
        level: 64,
        mag: 5,
        firemodes: "Bolt-Action",
        legal: false,
        ammo: "sniper",
        copper: 8,
        iron: 14,
        silver: 22,
        gold: 2,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 12,
        steel: 20,
        coal: 0,
        price: 17000
    },
    {
        name: "M14",
        class: "Rifle",
        amount: 0,
        level: 65,
        mag: 20,
        firemodes: "Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 0,
        iron: 14,
        silver: 20,
        gold: 8,
        titanium: 5,
        wood: 0,
        maple: 0,
        willow: 12,
        steel: 17,
        coal: 0,
        price: 17500
    },
    {
        name: "M3 Super 90",
        class: "Shotgun",
        amount: 0,
        level: 66,
        mag: 5,
        firemodes: "Pump-Action",
        legal: false,
        ammo: "shotgun",
        copper: 0,
        iron: 16,
        silver: 10,
        gold: 8,
        titanium: 0,
        wood: 0,
        maple: 12,
        willow: 0,
        steel: 7,
        coal: 0,
        price: 14000
    },
    {
        name: "M4 Carbine",
        class: "Rifle",
        amount: 0,
        level: 68,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 15,
        iron: 16,
        silver: 8,
        gold: 11,
        titanium: 1,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 12,
        coal: 0,
        price: 16500
    },
    {
        name: "IMI Galil",
        class: "Rifle",
        amount: 0,
        level: 70,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 5,
        iron: 19,
        silver: 8,
        gold: 0,
        titanium: 1,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 11,
        coal: 0,
        price: 17000
    },
    {
        name: "HK MP7A1",
        class: "Rifle",
        amount: 0,
        level: 70,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "pistol",
        copper: 2,
        iron: 12,
        silver: 8,
        gold: 5,
        titanium: 3,
        wood: 8,
        maple: 0,
        willow: 0,
        steel: 7,
        coal: 0,
        price: 18000
    },
    {
        name: "ACR-E",
        class: "Rifle",
        amount: 0,
        level: 73,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 17,
        iron: 18,
        silver: 0,
        gold: 10,
        titanium: 2,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 12,
        coal: 0,
        price: 17500
    },
    {
        name: "FAMAS F1",
        class: "Rifle",
        amount: 0,
        level: 75,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 5,
        iron: 17,
        silver: 8,
        gold: 0,
        titanium: 2,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 12,
        coal: 0,
        price: 22500
    },
    {
        name: "KSG-12",
        class: "Shotgun",
        amount: 0,
        level: 80,
        mag: 14,
        firemodes: "Pump-Action",
        legal: false,
        ammo: "shotgun",
        copper: 0,
        iron: 18,
        silver: 10,
        gold: 8,
        titanium: 5,
        wood: 0,
        maple: 12,
        willow: 0,
        steel: 14,
        coal: 0,
        price: 19000
    },
    {
        name: "AUG A3",
        class: "Rifle",
        amount: 0,
        level: 88,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 17,
        iron: 16,
        silver: 8,
        gold: 13,
        titanium: 4,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 16,
        coal: 0,
        price: 19000
    },
    {
        name: "XM8",
        class: "Rifle",
        amount: 0,
        level: 92,
        mag: 30,
        firemodes: "Automatic, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: 11,
        iron: 11,
        silver: 20,
        gold: 13,
        titanium: 7,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 16,
        coal: 0,
        price: 20000
    },
    {
        name: "TAC-338",
        class: "Rifle",
        amount: 0,
        level: "Undiscovered",
        mag: 5,
        firemodes: "Bolt-Action",
        legal: false,
        ammo: "sniper",
        copper: 0,
        iron: 12,
        silver: 17,
        gold: 6,
        titanium: 5,
        wood: 0,
        maple: 0,
        willow: 3,
        steel: 14,
        coal: 0,
        price: 27500
    },
    {
        name: "Silver Baller",
        class: "Exotic",
        amount: 0,
        level: 47,
        mag: 7,
        firemodes: "Semi-Automatic",
        legal: true,
        ammo: "pistol",
        copper: 9,
        iron: 12,
        silver: 0,
        gold: 2,
        titanium: 0,
        wood: 8,
        maple: 4,
        willow: 0,
        steel: 5,
        coal: 0,
        price: 10000
    },
    {
        name: "L115",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 5,
        firemodes: "Bolt-Action",
        legal: false,
        ammo: "sniper",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 110000
    },
    {
        name: "Magnum .357",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 6,
        firemodes: "Double-Action",
        legal: true,
        ammo: "pistol",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 300000
    },
    {
        name: "HK-416",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 180000
    },
    {
        name: "L85A2",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 30,
        firemodes: "Automatic, Burst, Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 140000
    },
    {
        name: "M1 Carbine",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 15,
        firemodes: "Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 175000
    },
    {
        name: "M1 Garand",
        class: "Exotic",
        amount: 0,
        level: 0,
        mag: 8,
        firemodes: "Semi-Automatic",
        legal: false,
        ammo: "rifle",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: 160000
    },
    {
        name: "BMG-50",
        class: "Police",
        amount: 0,
        level: 0,
        mag: 3,
        firemodes: "Semi-Automatic",
        legal: false,
        ammo: "sniper",
        copper: null,
        iron: null,
        silver: null,
        gold: null,
        titanium: null,
        wood: null,
        maple: null,
        willow: null,
        steel: null,
        coal: null,
        price: null
    },
    {
        name: "Gas Mask",
        class: "Equipable",
        amount: 0,
        level: -52,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 4,
        iron: 4,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 4,
        coal: 0,
        price: 2500
    },
    {
        name: "Gas Filter",
        class: "Equipable",
        amount: 0,
        level: -52,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 4,
        iron: 4,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 2,
        coal: 0,
        price: 2000
    },
    {
        name: "Lockpick",
        class: "Equipable",
        amount: 0,
        level: 21,
        mag: "",
        firemodes: "",
        legal: false,
        ammo: "",
        copper: 2,
        iron: 1,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 700
    },
    {
        name: "Zipties",
        class: "Door Charge",
        amount: 0,
        level: 25,
        mag: "",
        firemodes: "",
        legal: false,
        ammo: "",
        copper: 0,
        iron: 2,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 600
    },
    {
        name: "Door Charge",
        class: "Door Charge",
        amount: 0,
        level: -54,
        mag: "",
        firemodes: "",
        legal: false,
        ammo: "",
        copper: 6,
        iron: 8,
        silver: 0,
        gold: 4,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 5000
    },
    {
        name: "Crafted Kevlar",
        class: "Kevlar",
        amount: 0,
        level: 45,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 4,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 2,
        coal: 0,
        plastic: 10,
        price: 3500
    },
    {
        name: "Pistol Ammo",
        class: "Item",
        amount: 0,
        level: -14,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 3,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 275
    },
    {
        name: "Rifle Ammo",
        class: "Item",
        amount: 0,
        level: -44,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 3,
        iron: 3,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 950
    },
    {
        name: "Shotgun Ammo",
        class: "Item",
        amount: 0,
        level: -32,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 3,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 350
    },
    {
        name: "Sniper Ammo",
        class: "Item",
        amount: 0,
        level: -36,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 3,
        coal: 0,
        price: 800
    },
    {
        name: "Grenade Launcher Ammo",
        class: "Item",
        amount: 0,
        level: -99,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 0,
        gold: 5,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 30,
        coal: 0,
        price: 19000
    },
    {
        name: "Copper Ingot",
        class: "Item",
        amount: 0,
        level: -1,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 1,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 125
    },
    {
        name: "Iron Ingot",
        class: "Item",
        amount: 0,
        level: -14,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 1,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 200
    },
    {
        name: "Steel Ingot",
        class: "Item",
        amount: 0,
        level: -25,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 1,
        coal: 0,
        price: 650
    },
    {
        name: "Silver Ingot",
        class: "Item",
        amount: 0,
        level: -48,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 1,
        gold: 0,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "Gold Ingot",
        class: "Item",
        amount: 0,
        level: -62,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 0,
        gold: 1,
        titanium: 0,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 300
    },
    {
        name: "Titanium Ingot",
        class: "Item",
        amount: 0,
        level: -73,
        mag: "",
        firemodes: "",
        legal: true,
        ammo: "",
        copper: 0,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 1,
        wood: 0,
        maple: 0,
        willow: 0,
        steel: 0,
        coal: 0,
        price: 375
    }
];

//Attachments 2.3
//WIP: When an attachment is clicked, it will show the compatible guns with that corresponding attachment
//Attachment crafting data generated by ClutchMasterFTW (8/11/2022)
let attachments = [
    {
        name: "Short Blade",
        class: "Deprecated",
        amount: 0,
        abbreviation: "S-Blade",
        level: 10,
        description: "A short blade for the kabar knife.",
        copper: 7,
        iron: 1,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 0
    },
    {
        name: "Tundra 9MM Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "Tundra",
        level: 12,
        description: "A Tundra 9MM barrel used on the MP5.",
        copper: 6,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "M2 Pistol Suppressor",
        class: "Normal",
        amount: 0,
        abbreviation: "M2",
        level: 18,
        description: "A M2 pistol suppressor used for some pistols such as the M1911.",
        copper: 12,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1000
    },
    {
        name: "Unfolded Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "Stock-U",
        level: 20,
        description: "An unfolded stock, sometimes it is just too much.",
        copper: 5,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "MP5 Suppressor",
        class: "Normal",
        amount: 0,
        abbreviation: "MP5-SD",
        level: 20,
        description: "An MP5 suppressor.",
        copper: 12,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1000
    },
    {
        name: "Long Barrel MR96",
        class: "Normal",
        amount: 0,
        abbreviation: "MR96-LB",
        level: 20,
        description: "A long barrel for the MR96.",
        copper: 8,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "Extended 9MM Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "EBarrel",
        level: 20,
        description: "An extended barrel for the Mac-11, look like you own the place.",
        copper: 7,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "EoTech 552",
        class: "Normal",
        amount: 0,
        abbreviation: "Eotech",
        level: 20,
        description: "An EoTech 552 sight for a lot of weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "MP5 Retractable Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "MP5-S",
        level: 20,
        description: "A retractable stock used on the MP5.",
        copper: 8,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "AK-74 Heavy Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-HS",
        level: 25,
        description: "A heavy stock used on a AK-74.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "AK-74 Shortened Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-SB",
        level: 25,
        description: "A shortened barrel used on a AK-74.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "AK-74 Foldable Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-FS",
        level: 25,
        description: "A foldable stock used on a AK-74.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "Bowie Blade",
        class: "Deprecated",
        amount: 0,
        abbreviation: "B-Blade",
        level: 25,
        description: "A bowie blade for the kabar knife.",
        copper: 14,
        iron: 1,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 0
    },
    {
        name: "PSO-1",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-PSO",
        level: 25,
        description: "A PSO-1 sight used for a lot of weapons.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "PBS-1 Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-PBS",
        level: 25,
        description: "A PBS-1 barrel used for the AK-74.",
        copper: 15,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1000
    },
    {
        name: "AK-74 RPK Magazine",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-RPKM",
        level: 25,
        description: "An RPK Magazine used on a AK-74.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "AK-74 RPK",
        class: "Normal",
        amount: 0,
        abbreviation: "AK-RPKR",
        level: 25,
        description: "An RPK receiver that can only be used on a AK-74.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "X2-LAM",
        class: "Normal",
        amount: 0,
        abbreviation: "X2-LAM",
        level: 30,
        description: "An X2-LAM constructed by Labyrinth Inc.",
        copper: 12,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "Kobra Sight",
        class: "Normal",
        amount: 0,
        abbreviation: "Kobra",
        level: 30,
        description: "A Kobra sight used for a lot of weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "Foregrip",
        class: "Normal",
        amount: 0,
        abbreviation: "FGrip",
        level: 30,
        description: "A foregrip for a lot of weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "Magpul Handguard",
        class: "Normal",
        amount: 0,
        abbreviation: "MagH",
        level: 30,
        description: "A Magpul handguard used on the AR-15.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "Match Grade Ammo Type",
        class: "Normal",
        amount: 0,
        abbreviation: "",
        level: 30,
        description: "A Match Grade Ammo Type used for a lot of weapons.",
        copper: 2,
        iron: 2,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 2,
        coal: 0,
        price: 1250
    },
    {
        name: "EXT RIS",
        class: "Normal",
        amount: 0,
        abbreviation: "E-RIS",
        level: 30,
        description: "An EXT RIS handguard used on the AR-15.",
        copper: 15,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1100
    },
    {
        name: "Aimpoint Sight",
        class: "Normal",
        amount: 0,
        abbreviation: "AP",
        level: 30,
        description: "An Aimpoint sight used for a lot of weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "AR-15 Heavy Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "AR-15 HS",
        level: 30,
        description: "An AR-15 Heavy Stock used with the AR-15.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "Short Dot Sight",
        class: "Normal",
        amount: 0,
        abbreviation: "SDot",
        level: 30,
        description: "A Short Dot sight used for a lot of weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 250
    },
    {
        name: "AR-15 QUAD Magazine",
        class: "Normal",
        amount: 0,
        abbreviation: "Q-MAG",
        level: 30,
        description: "An AR-15 QUAD Magazine.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "M-TI Sights",
        class: "Normal",
        amount: 0,
        abbreviation: "M-TI",
        level: 30,
        description: "An M-TI Sight constructed by Labyrinth Inc. It can be used on the AR-15, Deagle, G3A3, and MP5.",
        copper: 12,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "ACOG Sights",
        class: "Normal",
        amount: 0,
        abbreviation: "ACOG",
        level: 30,
        description: "An ACOG sight. It can used on teh AR-15, Deagle, G3A3, and MP5.",
        copper: 15,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1250
    },
    {
        name: "Backup Ironsights",
        class: "Normal",
        amount: 0,
        abbreviation: "BUIS",
        level: 30,
        description: "BUIS, used by the AR-15.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "Long Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "LB",
        level: 30,
        description: "A long barrel.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 600
    },
    {
        name: "SAKER Suppressor",
        class: "Normal",
        amount: 0,
        abbreviation: "SAKER",
        level: 30,
        description: "A SAKER suppressor used on the AR-15, Deagle, and G3A3.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "AN/PEQ-15",
        class: "Normal",
        amount: 0,
        abbreviation: "AN/PEQ",
        level: 30,
        description: "An AN/PEQ-15 constructed by Labyrinth Inc. It can be used on the AR-15 and G3A3.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 600
    },
    {
        name: "AR-15 Sturdy Stock",
        class: "Normal",
        amount: 0,
        abbreviation: "AR-15 S",
        level: 30,
        description: "A Sturdy Stock used on the AR-15.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "RIS",
        class: "Normal",
        amount: 0,
        abbreviation: "RIS",
        level: 30,
        description: "An RIS handguard used on the AR-15.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "Desert Eagle Ext. Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "D-Ext",
        level: 35,
        description: "An extended barrel for the Desert Eagle.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 750
    },
    {
        name: "Desert Eagle Compensator",
        class: "Normal",
        amount: 0,
        abbreviation: "D-Comp",
        level: 35,
        description: "A compensator for the Desert Eagle.",
        copper: 13,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 850
    },
    {
        name: "NXS 8x Scope",
        class: "Normal",
        amount: 0,
        abbreviation: "NXS",
        level: 40,
        description: "An NXS constructed by Devul Inc.",
        copper: 15,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1250
    },
    {
        name: "ATLAS Bipod",
        class: "Normal",
        amount: 0,
        abbreviation: "BIP",
        level: 40,
        description: "A bipod used by the G3A3.",
        copper: 12,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 850
    },
    {
        name: "G3A3 SG1 Scope",
        class: "Normal",
        amount: 0,
        abbreviation: "SG1",
        level: 40,
        description: "An SG1 scope used by the G3A3.",
        copper: 15,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 1100
    },
    {
        name: "Old Rifle Suppressor",
        class: "Normal",
        amount: 0,
        abbreviation: "RifleSD",
        level: 45,
        description: "Honestly, this may or may not work...",
        copper: 14,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 900
    },
    {
        name: "Silverballer Suppressor",
        class: "Normal",
        amount: 0,
        abbreviation: "S-SD",
        level: 47,
        description: "A suppressor for the Silverballer.",
        copper: 14,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 900
    },
    {
        name: "Silverballer Long Slide",
        class: "Normal",
        amount: 0,
        abbreviation: "S-LS",
        level: 47,
        description: "A long slide for the Silverballer.",
        copper: 9,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 500
    },
    {
        name: "Magnum Ammo Type",
        class: "Normal",
        amount: 0,
        abbreviation: "",
        level: 60,
        description: "A Magnum Ammo Type used for a lot of weapons.",
        copper: 0,
        iron: 4,
        silver: 0,
        gold: 4,
        titanium: 0,
        steel: 4,
        coal: 0,
        price: 2000
    },
    {
        name: "P-MAG (HK Variant)",
        class: "Normal",
        amount: 0,
        abbreviation: "P-MAG",
        level: 88,
        description: "This is a really cool looking magazine, use it. (Also increases magazine size to 34)",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 600
    },
    {
        name: "HK Long Barrel",
        class: "Normal",
        amount: 0,
        abbreviation: "HK-LB",
        level: 89,
        description: "A Long Barrel meant for the HK416.",
        copper: 10,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 600
    },
    {
        name: "HK Reflex Sight",
        class: "Normal",
        amount: 0,
        abbreviation: "HK-RE",
        level: 89,
        description: "A Reflex sight meant for the HK416 and other weapons.",
        copper: 2,
        iron: 0,
        silver: 0,
        gold: 0,
        titanium: 0,
        steel: 0,
        coal: 0,
        price: 350
    },
    {
        name: "M203 GL",
        class: "Normal",
        amount: 0,
        abbreviation: "M203",
        level: 99,
        description: "An M203 Grenade Launcher used on the AR-15, G3A3, and other weapons.",
        copper: 0,
        iron: 20,
        silver: 16,
        gold: 10,
        titanium: 5,
        steel: 0,
        coal: 0,
        price: 11000
    }
];

for(i = 0; i < guns.length; i++) {
    guns[i].coal = ((guns[i].copper * 1) + (guns[i].iron * 1) + ((guns[i].steel * 3) * 1) + (guns[i].steel * 1) + (guns[i].silver * 1) + (guns[i].gold * 1) + (guns[i].titanium * 1));
    guns[i].copper = (guns[i].copper * 2);
    guns[i].iron = (guns[i].iron * 2);
    guns[i].iron += (guns[i].steel * 4);
    guns[i].silver = (guns[i].silver * 2);
    guns[i].gold = (guns[i].gold * 2);
    guns[i].titanium = (guns[i].titanium * 2);
}

for(i = 0; i < attachments.length; i++) {
    attachments[i].coal = ((attachments[i].copper * 1) + (attachments[i].iron * 1) + ((attachments[i].steel * 3) * 1) + (attachments[i].steel * 1) + (attachments[i].silver * 1) + (attachments[i].gold * 1) + (attachments[i].titanium * 1));
    attachments[i].copper = (attachments[i].copper * 2);
    attachments[i].iron = (attachments[i].iron * 2);
    attachments[i].iron += (attachments[i].steel * 4);
    attachments[i].silver = (attachments[i].silver * 2);
    attachments[i].gold = (attachments[i].gold * 2);
    attachments[i].titanium = (attachments[i].titanium * 2);
}

var materials = [
    {
        name: "Copper Ore",
        image: "images/ores/copper.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Coal Ore",
        image: "images/ores/coal.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Iron Ore",
        image: "images/ores/iron.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    // {
    //     name: "Aluminum Ore",
    //     image: "images/ores/iron.png",
    //     amount: 0,
    //     stacks: 0,
    //     remainder: 0
    // },
    {
        name: "Silver Ore",
        image: "images/ores/silver.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Gold Ore",
        image: "images/ores/gold.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Titanium Ore",
        image: "images/ores/titanium.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Wood Log",
        image: "images/ores/log.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Maple Log",
        image: "images/ores/log.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Willow Log",
        image: "images/ores/log.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Money",
        image: "images/ores/cash.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    }
];

var extendedMaterials = [
    {
        name: "Copper Bar",
        image: "images/ores/i_copper_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Iron Bar",
        image: "images/ores/i_iron_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Steel Bar",
        image: "images/ores/i_steel_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    // {
    //     name: "Aluminum Bar",
    //     image: "images/ores/i_steel_new.png",
    //     amount: 0,
    //     stacks: 0,
    //     remainder: 0
    // },
    {
        name: "Silver Bar",
        image: "images/ores/i_silver_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Gold Bar",
        image: "images/ores/i_gold_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Titanium Bar",
        image: "images/ores/i_titanium_new.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Wood Plank",
        image: "images/ores/plank.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Maple Plank",
        image: "images/ores/plank.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    },
    {
        name: "Willow Plank",
        image: "images/ores/plank.png",
        amount: 0,
        stacks: 0,
        remainder: 0
    }
];

let craftingTab = "weapons";

let version = "2.37dep";

function loadGuns() {
    for(i = 0; i < guns.length; i++) {
        let itemContainer = document.createElement("div");
        itemContainer.id = "item-container" + i;
        itemContainer.classList.add("item-container");
        if(guns[i].class == "Pistol") {
            itemContainer.style.border = "3.5px solid #006eff";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(87, 142, 214, 0.25), rgba(87, 142, 214, 1))";
        } else if(guns[i].class == "Rifle") {
            itemContainer.style.border = "3.5px solid #ff8c00";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(252, 182, 95, 0.25), rgba(252, 182, 95, 1))";
        } else if(guns[i].class == "Knife") {
            itemContainer.style.border = "3.5px solid #ff0000";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(249, 122, 122, 0.25), rgba(249, 122, 122, 1))";
        } else if(guns[i].class == "Shotgun") {
            itemContainer.style.border = "3.5px solid #7f00ff";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(183, 112, 255, 0.25), rgba(183, 112, 255, 1))";
        } else if(guns[i].class == "Exotic") {
            itemContainer.style.border = "3.5px solid #eeff00";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(245, 255, 117, 0.25), rgba(245, 255, 117, 1))";
        } else if(guns[i].class == "Police") {
            itemContainer.style.border = "3.5px solid #0015ff";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(124, 135, 255, 0.25), rgba(124, 135, 255, 1))";
        } else if(guns[i].class == "Equipable") {
            itemContainer.style.border = "3.5px solid #46d300";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(135, 209, 98, 0.25), rgba(135, 209, 98, 1))";
        } else if(guns[i].class == "Door Charge") {
            itemContainer.style.border = "3.5px solid #41006d";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(108, 0, 181, 0.25), rgba(108, 0, 181, 1))";
        } else if(guns[i].class == "Kevlar") {
            itemContainer.style.border = "3.5px solid #1c397a";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(53, 75, 104, 0.25), rgba(53, 75, 104, 1))";
        } else if(guns[i].class == "Item") {
            itemContainer.style.border = "3.5px solid #333333";
            itemContainer.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.25), rgba(109, 109, 109, 1))";
        }

        let itemImage = document.createElement("img");
        itemImage.id = "item-image" + i;
        itemImage.setAttribute("src", "images/weapons/" + guns[i].name + ".png");
        itemImage.setAttribute("title", guns[i].name);
        itemImage.setAttribute("onmouseover", "imageHover(" + i + ")");
        itemImage.setAttribute("onmouseout", "imageUNHover(" + i + ")");
        itemImage.setAttribute("onclick", "itemInfo(" + i + ")");
        // if(guns[i].class == "Pistol") {
        //     itemImage.style.border = "3.5px solid #006eff";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(87, 142, 214, 0.25), rgba(87, 142, 214, 1))";
        // } else if(guns[i].class == "Rifle") {
        //     itemImage.style.border = "3.5px solid #ff8c00";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(252, 182, 95, 0.25), rgba(252, 182, 95, 1))";
        // } else if(guns[i].class == "Knife") {
        //     itemImage.style.border = "3.5px solid #ff0000";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(249, 122, 122, 0.25), rgba(249, 122, 122, 1))";
        // } else if(guns[i].class == "Shotgun") {
        //     itemImage.style.border = "3.5px solid #7f00ff";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(183, 112, 255, 0.25), rgba(183, 112, 255, 1))";
        // } else if(guns[i].class == "Exotic") {
        //     itemImage.style.border = "3.5px solid #eeff00";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(245, 255, 117, 0.25), rgba(245, 255, 117, 1))";
        // } else if(guns[i].class == "Police") {
        //     itemImage.style.border = "3.5px solid #0015ff";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(124, 135, 255, 0.25), rgba(124, 135, 255, 1))";
        // } else if(guns[i].class == "Equipable") {
        //     itemImage.style.border = "3.5px solid #46d300";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(135, 209, 98, 0.25), rgba(135, 209, 98, 1))";
        // } else if(guns[i].class == "Door Charge") {
        //     itemImage.style.border = "3.5px solid #41006d";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(108, 0, 181, 0.25), rgba(108, 0, 181, 1))";
        // } else if(guns[i].class == "Kevlar") {
        //     itemImage.style.border = "3.5px solid #1c397a";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(53, 75, 104, 0.25), rgba(53, 75, 104, 1))";
        // } else if(guns[i].class == "Item") {
        //     itemImage.style.border = "3.5px solid #333333";
        //     itemImage.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.25), rgba(109, 109, 109, 1))";
        // }
        itemImage.classList.add("item-image");

        let itemFlex = document.createElement("div");
        itemFlex.id = "item-flex" + i;
        itemFlex.classList.add("item-flex");

        let itemName = document.createElement("div");
        itemName.id = "item-name" + i;
        itemName.innerHTML = guns[i].name;
        itemName.classList.add("item-name");
        if(guns[i].name == "Grenade Launcher Ammo") {
            itemName.style.fontSize = "20px";
        }

        var itemLevel = document.createElement("div");
        itemLevel.id = "item-level" + i;
        if(guns[i].level != 0) {
            if(guns[i].level < 0) {
                itemLevel.innerHTML = "Metalworking Level: " + Math.abs(guns[i].level);
            } else {
                itemLevel.innerHTML = "Crafting Level: " + guns[i].level;
                itemLevel.style.color = "white";
            }
        } else if(guns[i].level == 0) {
            itemLevel.innerHTML = "Uncraftable Item";
            itemLevel.style.color = "red";
        }
        itemLevel.classList.add("item-level");

        var itemLegal = document.createElement("div");
        itemLegal.id = "item-legal" + i;
        if(guns[i].legal == true) {
            itemLegal.innerHTML = "Legal";
            itemLegal.style.color = "darkgreen";
        } else if(guns[i].legal == false) {
            itemLegal.innerHTML = "Illegal";
            itemLegal.style.color = "red";
        }
        itemLegal.classList.add("item-legal");

        let itemFlex2 = document.createElement("div");
        itemFlex2.id = "item-flex2-" + i;
        itemFlex2.classList.add("item-flex2");

        let itemFlex3 = document.createElement("div");
        itemFlex3.id = "item-flex3-" + i;
        itemFlex3.classList.add("item-flex3");

        var itemMag = document.createElement("div");
        itemMag.id = "item-mag" + i;
        if(guns[i].mag == "Doesn't accept ammo") {
            itemMag.innerHTML = "Doesn't accept ammo";
            itemMag.style.color = "red";
        } else if(guns[i].mag == "") {
            itemMag.innerHTML = "‎";
        } else {
            itemMag.innerHTML = "Magazine Size: " + guns[i].mag;
            itemMag.style.color = "white";
        }
        itemMag.style.fontSize = "1vw";
        itemMag.style.fontWeight = "600";

        var itemFiremodes = document.createElement("div");
        itemFiremodes.id = "item-firemodes" + i;
        if(guns[i].firemodes == "") {
            itemFiremodes.innerHTML = "‎";
        } else {
            itemFiremodes.innerHTML = "Fire Modes: " + guns[i].firemodes;
        }
        itemFiremodes.style.fontSize = "1vw";
        itemFiremodes.style.fontWeight = "600";
        itemFiremodes.style.color = "white";

        var itemAmmo = document.createElement("div");
        itemAmmo.id = "item-ammo" + i;
        if(guns[i].ammo == "pistol") {
            itemAmmo.innerHTML = "Ammo Type: Pistol Ammo";
        } else if(guns[i].ammo == "rifle") {
            itemAmmo.innerHTML = "Ammo Type: Rifle Ammo";
        } else if(guns[i].ammo == "shotgun") {
            itemAmmo.innerHTML = "Ammo Type: Shotgun Ammo";
        } else if(guns[i].ammo == "sniper") {
            itemAmmo.innerHTML = "Ammo Type: Sniper Ammo";
        } else if(guns[i].ammo == "") {
            itemAmmo.innerHTML = "‎";
        } else {
            itemAmmo.innerHTML = "Ammo Type: Doesn't accept ammo";
        }
        itemAmmo.style.fontSize = "1vw";
        itemAmmo.style.fontWeight = "600";
        itemAmmo.style.color = "white";

        itemInputBox = document.createElement("input");
        itemInputBox.id = "item-input-box" + i;
        itemInputBox.value = 0;
        itemInputBox.classList.add("item-input-box");
        itemInputBox.setAttribute("type", "number");
        if(guns[i].class == "Police") {
            itemInputBox.style.backgroundColor = "#5a5a5a";
            itemInputBox.style.color = "red";
            itemInputBox.style.border = "2px red solid";
            itemInputBox.setAttribute("min", "0");
            itemInputBox.setAttribute("max", "0");
        } else if(guns[i].class == "Exotic" && (guns[i].name != "Silver Baller" && guns[i].name != "MP-40")) {
            itemInputBox.style.backgroundColor = "#5a5a5a";
            itemInputBox.style.color = "salmon";
            itemInputBox.style.border = "2px salmon solid";
            itemInputBox.setAttribute("min", "0");
            itemInputBox.setAttribute("max", "99");
        } else {
            itemInputBox.style.backgroundColor = "#5a5a5a";
            itemInputBox.style.color = "white";
            itemInputBox.setAttribute("min", "0");
            itemInputBox.setAttribute("max", "99");
        }

        if(guns[i].name == "FAMAS F1" || guns[i].name == "HK MP7A1" || guns[i].name == "TAC-338" || guns[i].name == "Silver Baller" || guns[i].name == "MP-40") {
            itemContainer.style.backgroundImage = "url('images/blueprint.png')";
        }
        
        var mainContainer = document.getElementById("guns-container");
        mainContainer.appendChild(itemContainer);
        itemContainer.appendChild(itemImage);
        itemContainer.appendChild(itemFlex);
        itemFlex.appendChild(itemName);
        itemFlex.appendChild(itemLevel);
        itemFlex.appendChild(itemLegal);
        itemContainer.appendChild(itemFlex2);
        itemFlex2.appendChild(itemFlex3);
        itemFlex3.appendChild(itemMag);
        itemFlex3.appendChild(itemFiremodes);
        itemFlex3.appendChild(itemAmmo);
        itemFlex2.appendChild(itemInputBox);
    }

    for(i = 0; i < guns.length; i++) {
        document.getElementById("item-input-box" + i).oninput = function() {
            guns[parseInt(this.id.substring(14))].amount = parseInt(document.getElementById(this.id).value);
            calculateMaterials();
        }

        document.getElementById("item-input-box" + i).value = guns[i].amount;
    }
}

loadGuns();

function loadAttachments() {
    for(i = 0; i < attachments.length; i++) {
        var itemContainer = document.createElement("div");
        itemContainer.id = "item-container" + i;
        itemContainer.classList.add("item-container");

        var itemImageContainer = document.createElement("div");
        itemImageContainer.id = "item-image-container" + i;
        itemImageContainer.classList.add("item-image-container");
        if(attachments[i].class == "Normal") {
            itemImageContainer.style.border = "3.5px solid #333333";
            itemImageContainer.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.1), rgba(109, 109, 109, 1))";
        } else if(attachments[i].class == "Deprecated") {
            itemImageContainer.style.border = "3.5px solid #ff6b6b";
            itemImageContainer.style.backgroundImage = "linear-gradient(135deg, rgba(255, 73, 73, 0.1), rgba(255, 73, 73, 1))";
        }

        var itemImage = document.createElement("img");
        itemImage.id = "item-image" + i;
        if(attachments[i].name == "AN/PEQ-15") {
            itemImage.setAttribute("src", "images/attachments/ANPEQ-15.png");
        } else {
            itemImage.setAttribute("src", "images/attachments/" + attachments[i].name + ".png");
        }
        itemImage.setAttribute("title", attachments[i].name);
        itemImage.classList.add("attachment-image");

        itemImage.setAttribute("onmouseover", "imageHover(" + i + ")");
        itemImage.setAttribute("onmouseout", "imageUNHover(" + i + ")");
        itemImage.setAttribute("onclick", "itemInfo(" + i + ", 'attachment')");

        var itemAbbreviation = document.createElement("p");
        itemAbbreviation.id = "item-image-abbreviation" + i;
        itemAbbreviation.classList.add("attachment-abbreviation");
        itemAbbreviation.innerHTML = attachments[i].abbreviation;

        var itemFlex = document.createElement("div");
        itemFlex.id = "item-flex" + i;
        itemFlex.classList.add("attachment-item-flex");

        var itemName = document.createElement("div");
        itemName.id = "item-name" + i;
        itemName.classList.add("item-name");
        itemName.innerHTML = attachments[i].name;

        var itemLevel = document.createElement("div");
        itemLevel.id = "item-level" + i;
        itemLevel.classList.add("item-level");
        itemLevel.style.color = "white";
        itemLevel.innerHTML = "Crafting Level: " + attachments[i].level;

        itemInputBox = document.createElement("input");
        itemInputBox.id = "item-input-box" + i;
        itemInputBox.value = 0;
        itemInputBox.classList.add("item-input-box");
        itemInputBox.style.backgroundColor = "#5a5a5a";
        itemInputBox.style.color = "white";
        itemInputBox.setAttribute("type", "number");
        itemInputBox.setAttribute("min", "0");
        itemInputBox.setAttribute("max", "99");
        
        var mainContainer = document.getElementById("guns-container");
        mainContainer.appendChild(itemContainer);
        itemContainer.appendChild(itemImageContainer);
        itemImageContainer.appendChild(itemImage);
        itemImageContainer.appendChild(itemAbbreviation);
        itemContainer.appendChild(itemFlex);
        itemFlex.appendChild(itemName);
        itemFlex.appendChild(itemLevel);
        itemContainer.appendChild(itemInputBox);
    }

    for(i = 0; i < attachments.length; i++) {
        document.getElementById("item-input-box" + i).oninput = function() {
            attachments[parseInt(this.id.substring(14))].amount = parseInt(document.getElementById(this.id).value);
            calculateMaterials();
        }

        document.getElementById("item-input-box" + i).value = attachments[i].amount;
    }
}

//If width of page is less than 1000, run function:
setInterval(function(){
    var pageWidth = document.body.clientWidth;
    var pageHeight = document.body.clientHeight;
    if(pageWidth < 1000 || pageHeight < 700) {
        checkDims();
    }
}, 10);

var dimsAlert = 0;
function checkDims() {
    if(dimsAlert == 0) {
        interval = setInterval(fadeIn, 10);
        dimsAlert = 1;
    }
}

var opacity = 0;
function fadeIn() {
    if(opacity <= 75) {
        document.getElementById("dim-warning-container").style.visibility = "visible";
        document.getElementById("dim-warning-container").style.opacity = opacity + "%";
        opacity++;
    } else {
        clearInterval(interval);
    }
}

function closeWarning() {
    document.getElementById("dim-warning-container").style.visibility = "hidden";
}

function loadMaterials() {
    for(i = 0; i < materials.length; i++) {
        var materialItemContainer = document.createElement("div");
        materialItemContainer.id = "material-item-container" + i;
        materialItemContainer.style.border = "1px solid gray";
        materialItemContainer.style.height = "5vw";
        materialItemContainer.style.cursor = "pointer";
        materialItemContainer.style.userSelect = "none";

        var materialImage = document.createElement("img");
        materialImage.id = "material-image" + i;
        materialImage.setAttribute("src", materials[i].image);
        materialImage.style.width = "4.5vw";
        materialImage.setAttribute("title", materials[i].name);
        materialImage.style.display = "block";
        materialImage.style.position = "relative";
        materialImage.style.top = "0.1vw";
        materialImage.style.left = "0.1vw";
        materialImage.style.border = "0.175vw solid #333333";
        materialImage.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.1), rgba(109, 109, 109, 1))";
        materialImage.style.borderRadius = "0.35vw";

        var materialName = document.createElement("div");
        materialName.id = "material-name" + i;
        materialName.innerHTML = materials[i].name;
        materialName.style.display = "block";
        materialName.style.position = "relative";
        materialName.style.top = "-4.5vw";
        materialName.style.left = "5.5vw";
        materialName.style.fontSize = "1.5vw";
        materialName.style.color = "white";
        materialName.style.fontWeight = "bold";

        var materialAmount = document.createElement("div");
        materialAmount.id = "material-amount" + i;
        if(i == 9) {
            materialAmount.innerHTML = "Amount: $" + materials[i].amount;
        } else {
            materialAmount.innerHTML = "Amount: " + materials[i].amount;
        }
        materialAmount.style.display = "block";
        materialAmount.style.position = "relative";
        materialAmount.style.top = "-4.5vw";
        materialAmount.style.left = "5.5vw";
        materialAmount.style.fontSize = "1.25vw";
        materialAmount.style.color = "white";
        materialAmount.style.fontWeight = "600";

        var mainContainer = document.getElementById("material-container");
        mainContainer.appendChild(materialItemContainer);
        materialItemContainer.appendChild(materialImage);
        materialItemContainer.appendChild(materialName);
        materialItemContainer.appendChild(materialAmount);
    }
}

loadMaterials();

var background = "image";

function changeBG() {
    if(background == "image") {
        document.getElementById("background-img").style.backgroundImage = "linear-gradient(#181818, #070707)";
        document.getElementById("background-img").style.filter = "blur(0px)";
        document.getElementById("warning-text").style.color = "white";
        document.getElementById("warning").style.color = "white";
        document.getElementById("credits").style.color = "white";
        document.getElementById("bg-type").innerHTML = "Simple";
        background = "simple";
        localStorage.setItem("theme", "Simple");
    } else if(background == "simple") {
        document.getElementById("background-img").style.backgroundImage = "url(images/background.jpg)";
        document.getElementById("background-img").style.filter = "blur(0px)";
        document.getElementById("warning-text").style.color = "white";
        document.getElementById("warning").style.color = "white";
        document.getElementById("credits").style.color = "white";
        document.getElementById("bg-type").innerHTML = "Monoford";
        background = "image";
        localStorage.setItem("theme", "image");
    }
}

function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

//Check if user is brand new, if so, flash the help icon to encourage new users to use the tutorial
/*
var infoType = "white";
if(localStorage.getItem("tutorial") == null) {
    localStorage.setItem("tutorial", false);
    tutorialInterval3 = setInterval(function() {
        if(infoType == "white") {
            document.getElementById("info-icon").style.color = "#ff4444";
            infoType = "red";
        } else if(infoType == "red") {
            document.getElementById("info-icon").style.color = "white";
            infoType = "white";
        }
    }, 1000);
} else if(localStorage.getItem("tutorial") == "false") {
    tutorialInterval3 = setInterval(function() {
        if(infoType == "white") {
            document.getElementById("info-icon").style.color = "#ff4444";
            infoType = "red";
        } else if(infoType == "red") {
            document.getElementById("info-icon").style.color = "white";
            infoType = "white";
        }
    }, 1000);
}
*/

// LOCAL STORAGE FOR THEME
if(localStorage.getItem("theme") == null){
    localStorage.setItem("theme", "image");
}

if(localStorage.getItem("theme") == "image") {
    background = "image";
    document.getElementById("background-img").style.backgroundImage = "url(images/background.jpg)";
    document.getElementById("bg-type").innerHTML = "Monoford";
} else if(localStorage.getItem("theme") == "Simple") {
    background = "simple";
    document.getElementById("background-img").style.backgroundImage = "linear-gradient(#181818, #070707)";
    document.getElementById("bg-type").innerHTML = "Simple";
}

//Version 1.9 (Item Info)
function imageHover(element) {
    if(guns[element].name == "HK MP7A1" || guns[element].name == "FAMAS F1" || guns[element].name == "TAC-338" || guns[element].name == "Silver Baller" || guns[element].name == "MP-40") {
        document.getElementById("item-container" + element).style.backgroundImage = "url('images/blueprint.png'), gray";
        document.getElementById("item-container" + element).style.background = "gray";
    } else {
        document.getElementById("item-container" + element).style.backgroundColor = "gray";
        document.getElementById("item-container" + element).style.transitionDuration = "1s";
    }
}

function imageUNHover(element) {
    if((guns[element].name == "HK MP7A1" || guns[element].name == "FAMAS F1" || guns[element].name == "TAC-338" || guns[element].name == "Silver Baller" || guns[element].name == "MP-40") && currentTab == "weapons") {
        document.getElementById("item-container" + element).style.backgroundImage = "url('images/blueprint.png')";
    } else {
        document.getElementById("item-container" + element).style.backgroundColor = "";
        document.getElementById("item-container" + element).style.transitionDuration = "1s";
    }
}

function itemInfo(element, type) {
    if(type != "attachment") {
        itemInfoContainer = document.createElement("div");
        itemInfoContainer.id = "item-info-container";
        itemInfoContainer.style.width = "99.5vw";
        itemInfoContainer.style.height = "calc(100vh - 0.5vw - 70px)";
        itemInfoContainer.style.position = "fixed";
        itemInfoContainer.style.top = "70px";
        itemInfoContainer.style.left = "50%";
        itemInfoContainer.style.transform = "translateX(-50%)";
        itemInfoContainer.style.opacity = "0%";
        itemInfoContainer.style.userSelect = "none";
        itemInfoContainer.style.display = "flex";
        itemInfoContainer.style.flexDirection = "column";
        itemInfoContainer.style.justifyContent = "center"; //CHANGE TO FLEX-START in 2.4
        itemInfoContainer.style.alignItems = "center";
        itemInfoContainer.style.gap = "10px";
        switch(guns[element].class) {
            case "Pistol":
                itemInfoContainer.style.border = "0.25vw solid #006eff";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(87, 142, 214, 1), rgba(0, 110, 225, 0.25))";
                break;
            case "Rifle":
                itemInfoContainer.style.border = "0.25vw solid #ff8c00";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(252, 182, 95, 1), rgba(255, 140, 0, 0.25))";
                break;
            case "Knife":
                itemInfoContainer.style.border = "0.25vw solid #ff0000";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(249, 122, 122, 1), rgba(255, 0, 0, 0.25))";
                break;
            case "Shotgun":
                itemInfoContainer.style.border = "0.25vw solid #7f00ff";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(183, 112, 255, 1), rgba(127, 0, 255, 0.25))";
                break;
            case "Exotic":
                itemInfoContainer.style.border = "0.25vw solid #eeff00";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(245, 255, 117, 1), rgba(238, 255, 0, 0.25))";
                break;
            case "Police":
                itemInfoContainer.style.border = "0.25vw solid #0015ff";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(124, 135, 255, 1), rgba(0, 21, 255, 0.25))";
                break;
            case "Equipable":
                itemInfoContainer.style.border = "0.25vw solid #46d300";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(135, 209, 98, 1), rgba(70, 211, 0, 0.25))";
                break;
            case "Door Charge":
                itemInfoContainer.style.border = "0.25vw solid #41006d";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(108, 0, 181, 1), rgba(65, 0, 109, 0.25))";
                break;
            case "Kevlar":
                itemInfoContainer.style.border = "0.25vw solid #1c397a";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(53, 75, 104, 1), rgba(53, 75, 104, 0.25))";
                break;
            case "Item":
                itemInfoContainer.style.border = "0.25vw solid #333333";
                itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 1), rgba(51, 51, 51, 0.25))";
                break;
        }
        
        if(guns[element].name == "HK MP7A1" || guns[element].name == "FAMAS F1" || guns[element].name == "TAC-338" || guns[element].name == "Silver Baller" || guns[element].name == "MP-40") {
            itemInfoContainer.style.backgroundImage = "url('images/blueprint.png')";
            itemInfoContainer.style.border = "0.25vw solid rgb(0, 0, 50)";
        }

        const itemInfoImage = document.createElement("img");
        itemInfoImage.id = "item-info-image";
        itemInfoImage.style.maxHeight = "35vh";
        itemInfoImage.setAttribute("src", "images/weapons/" + guns[element].name + ".png");
        itemInfoImage.setAttribute("title", guns[element].name);

        const itemInfoTitle = document.createElement("div");
        itemInfoTitle.id = "item-info-title";
        itemInfoTitle.style.color = "white";
        itemInfoTitle.style.fontSize = "100px";
        itemInfoTitle.style.fontWeight = "bold";
        itemInfoTitle.style.textShadow = "0.25vw 0.25vw 0.25vw black"
        itemInfoTitle.style.textAlign = "center";
        itemInfoTitle.innerHTML = guns[element].name;

        const itemInfoLevel = document.createElement("div");
        itemInfoLevel.id = "item-info-level";
        itemInfoLevel.style.color = "white";
        itemInfoLevel.style.fontSize = "3.5vw";
        itemInfoLevel.style.fontWeight = "600";
        if(guns[element].level != 0) {
            if(guns[element].name == "Gas Mask" || guns[element].name == "Gas Filter" || guns[element].name == "Door Charge" || guns[element].name == "Pistol Ammo" || guns[element].name == "Rifle Ammo" || guns[element].name == "Shotgun Ammo" || guns[element].name == "Sniper Ammo" || guns[element].name == "Grenade Launcher Ammo" || guns[element].name == "Copper Ingot" || guns[element].name == "Iron Ingot" || guns[element].name == "Steel Ingot" || guns[element].name == "Silver Ingot" || guns[element].name == "Gold Ingot" || guns[element].name == "Titanium Ingot") {
                itemInfoLevel.innerHTML = "Metalworking Level: " + Math.abs(guns[element].level);
                itemInfoLevel.style.color = "black";
            } else {
                itemInfoLevel.innerHTML = "Crafting Level: " + guns[element].level;
                itemInfoLevel.style.color = "white";
            }
        } else if(guns[element].level == 0) {
            itemInfoLevel.innerHTML = "Uncraftable Item";
            itemInfoLevel.style.color = "red";
        }

        const itemInfoLegal = document.createElement("div");
        itemInfoLegal.id = "item-info-legal";
        itemInfoLegal.style.color = "white";
        itemInfoLegal.style.fontSize = "25px";
        itemInfoLegal.style.fontWeight = "500";
        itemInfoLegal.style.color = "white";
        itemInfoLegal.style.padding = "7.5px 50px 7.5px 50px";
        itemInfoLegal.style.display = "flex";
        itemInfoLegal.style.justifyContent = "center";
        itemInfoLegal.style.alignItems = "center";
        if(guns[element].legal == true) {
            itemInfoLegal.innerHTML = "Legal";
            itemInfoLegal.style.backgroundImage = "linear-gradient(90deg, transparent, darkgreen, transparent)";
        } else if(guns[element].legal == false) {
            itemInfoLegal.innerHTML = "Illegal";
            itemInfoLegal.style.backgroundImage = "linear-gradient(90deg, transparent, red, transparent)";
        }

        // const itemInfoMag = document.createElement("div");
        // itemInfoMag.id = "item-info-mag";
        // itemInfoMag.style.color = "white";
        // itemInfoMag.style.fontSize = "2vw";
        // itemInfoMag.style.fontWeight = "600";
        // itemInfoMag.style.marginTop = "-60vh";
        // itemInfoMag.style.marginLeft = "32vw";
        // itemInfoMag.style.verticalAlign = "middle";
        // if(guns[element].mag == "Doesn't accept ammo") {
        //     itemInfoMag.innerHTML = "Doesn't accept ammo";
        //     itemInfoMag.style.color = "red";
        // } else if(guns[element].mag == "") {
        //     itemInfoMag.innerHTML = "";
        // } else {
        //     itemInfoMag.innerHTML = "Magazine Size: " + guns[element].mag;
        //     itemInfoMag.style.color = "white";
        // }

        // const itemInfoFiremodes = document.createElement("div");
        // itemInfoFiremodes.id = "item-info-firemodes";
        // itemInfoFiremodes.style.color = "white";
        // itemInfoFiremodes.style.fontSize = "2vw";
        // itemInfoFiremodes.style.fontWeight = "600";
        // itemInfoFiremodes.style.marginTop = "-65vh";
        // itemInfoFiremodes.style.marginLeft = "32vw";
        // itemInfoFiremodes.style.verticalAlign = "middle";
        // if(guns[element].firemodes == "") {
        //     itemInfoFiremodes.innerHTML = "";
        // } else {
        //     itemInfoFiremodes.innerHTML = "Fire Modes: " + guns[element].firemodes;
        // }

        // const itemInfoAmmo = document.createElement("div");
        // itemInfoAmmo.id = "item-info-ammo";
        // itemInfoAmmo.style.color = "white";
        // itemInfoAmmo.style.fontSize = "2vw";
        // itemInfoAmmo.style.fontWeight = "600";
        // itemInfoAmmo.style.marginTop = "-65vh";
        // itemInfoAmmo.style.marginLeft = "32vw";
        // itemInfoAmmo.style.verticalAlign = "middle";
        // if(guns[element].ammo == "pistol") {
        //     itemInfoAmmo.innerHTML = "Ammo Type: Pistol Ammo";
        // } else if(guns[element].ammo == "rifle") {
        //     itemInfoAmmo.innerHTML = "Ammo Type: Rifle Ammo";
        // } else if(guns[element].ammo == "shotgun") {
        //     itemInfoAmmo.innerHTML = "Ammo Type: Shotgun Ammo";
        // } else if(guns[element].ammo == "sniper") {
        //     itemInfoAmmo.innerHTML = "Ammo Type: Sniper Ammo";
        // } else if(guns[element].ammo == "") {
        //     itemInfoAmmo.innerHTML = "";
        // } else {
        //     itemInfoAmmo.innerHTML = "Ammo Type: Doesn't accept ammo";
        // }

        // const itemInfoDamageTitle = document.createElement("div");
        // itemInfoDamageTitle.id = "item-info-damage-title";
        // itemInfoDamageTitle.style.color = "white";
        // itemInfoDamageTitle.style.fontSize = "1.25vw";
        // itemInfoDamageTitle.style.fontWeight = "bold";
        // itemInfoDamageTitle.style.marginTop = "-57vh";
        // itemInfoDamageTitle.style.marginLeft = "1vw";
        // itemInfoDamageTitle.style.verticalAlign = "left";
        // itemInfoDamageTitle.innerHTML = "Weapon Damage:"

        const itemInfoClose = document.createElement("img");
        itemInfoClose.id = "item-info-close";
        itemInfoClose.style.position = "absolute";
        itemInfoClose.style.top = "1vw";
        itemInfoClose.style.right = "1vw";
        itemInfoClose.style.filter ="invert(1)";
        itemInfoClose.style.width = "30px";
        itemInfoClose.style.cursor = "pointer";
        itemInfoClose.setAttribute("src", "images/close.png");
        itemInfoClose.setAttribute("onclick", "itemInfoClose()");

        //Append all created elements
        document.body.appendChild(itemInfoContainer);
        itemInfoContainer.appendChild(itemInfoImage);
        itemInfoContainer.appendChild(itemInfoTitle);
        itemInfoContainer.appendChild(itemInfoLevel);//Make it a progress bar, with transparent sides?
        itemInfoContainer.appendChild(itemInfoLegal);
        // itemInfoContainer.appendChild(itemInfoMag);
        // itemInfoContainer.appendChild(itemInfoFiremodes);
        // itemInfoContainer.appendChild(itemInfoAmmo);
        // itemInfoContainer.appendChild(itemInfoDamageTitle);
        itemInfoContainer.appendChild(itemInfoClose);

        var itemInfoOpacity = 1;
        itemInfoInterval = setInterval(function() {
            itemInfoContainer.style.opacity = itemInfoOpacity + "%";
            if(itemInfoOpacity == 100) {
                clearInterval(itemInfoInterval);
            } else {
                itemInfoOpacity++;
            }
        }, 7.5);
    } else {
        itemInfoContainer = document.createElement("div");
        itemInfoContainer.id = "item-info-container";
        itemInfoContainer.style.width = "99.5vw";
        itemInfoContainer.style.height = "calc(100vh - 0.5vw - 70px)";
        itemInfoContainer.style.position = "fixed";
        itemInfoContainer.style.top = "70px";
        itemInfoContainer.style.left = "50%";
        itemInfoContainer.style.transform = "translateX(-50%)";
        itemInfoContainer.style.opacity = "0%";
        itemInfoContainer.style.userSelect = "none";
        itemInfoContainer.style.display = "flex";
        itemInfoContainer.style.flexDirection = "column";
        itemInfoContainer.style.justifyContent = "center"; //CHANGE TO FLEX-START in 2.4
        itemInfoContainer.style.alignItems = "center";
        if(attachments[element].class == "Deprecated") {
            itemInfoContainer.style.border = "0.25vw solid #ff6b6b";
            itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(255, 73, 73, 1), rgba(255, 73, 73, 0.25))";
        } else if(attachments[element].class == "Normal") {
            itemInfoContainer.style.border = "0.25vw solid #333333";
            itemInfoContainer.style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 1), rgba(109, 109, 109, 0.25))";
        }

        const itemInfoImage = document.createElement("img");
        itemInfoImage.id = "item-info-image";
        itemInfoImage.style.maxHeight = "30vh";
        itemInfoImage.setAttribute("title", attachments[element].name);
        if(attachments[element].name == "AN/PEQ-15") {
            itemInfoImage.setAttribute("src", "images/attachments/ANPEQ-15.png");
        } else {
            itemInfoImage.setAttribute("src", "images/attachments/" + attachments[element].name + ".png");
        }

        const itemInfoTitle = document.createElement("div");
        itemInfoTitle.id = "item-info-title";
        itemInfoTitle.style.color = "white";
        itemInfoTitle.style.fontSize = "100px";
        itemInfoTitle.style.fontWeight = "bold";
        itemInfoTitle.style.textShadow = "0.25vw 0.25vw 0.25vw black"
        itemInfoTitle.style.textAlign = "center";
        itemInfoTitle.innerHTML = attachments[element].name;

        const itemInfoClose = document.createElement("img");
        itemInfoClose.id = "item-info-close";
        itemInfoClose.style.position = "absolute";
        itemInfoClose.style.top = "1vw";
        itemInfoClose.style.right = "1vw";
        itemInfoClose.style.filter ="invert(1)";
        itemInfoClose.style.width = "30px";
        itemInfoClose.style.cursor = "pointer";
        itemInfoClose.setAttribute("src", "images/close.png");
        itemInfoClose.setAttribute("onclick", "itemInfoClose()");

        //Append all created elements
        document.body.appendChild(itemInfoContainer);
        itemInfoContainer.appendChild(itemInfoImage);
        itemInfoContainer.appendChild(itemInfoTitle);
        itemInfoContainer.appendChild(itemInfoClose);

        var itemInfoOpacity = 1;
        itemInfoInterval = setInterval(function() {
            itemInfoContainer.style.opacity = itemInfoOpacity + "%";
            if(itemInfoOpacity == 100) {
                clearInterval(itemInfoInterval);
            } else {
                itemInfoOpacity++;
            }
        }, 7.5);
    }
}

//Close Item Info Menu
function itemInfoClose() {
    var itemInfoOpacity = 100;
    itemInfoCloseInterval = setInterval(function() {
        itemInfoContainer.style.opacity = itemInfoOpacity + "%";
        if(itemInfoOpacity == 0) {
            clearInterval(itemInfoCloseInterval);
            itemInfoContainer.remove();
        } else {
            itemInfoOpacity--;
        }
    }, 4);
}

//Monolith 2.0.12 Gun Mechanics:

let furnace = "electric";
document.getElementById("electric-furnace").style.border = "0.3vw solid #19ff00";
document.getElementById("electric-furnace").style.backgroundImage = "linear-gradient(135deg, rgba(22, 135, 0, 0.1), rgba(22, 135, 0, 1))";

function changeFurnace(type) {
    furnace = type;

    if(type == "coal") {
        document.getElementById("coal-furnace").style.border = "0.3vw solid #19ff00";
        document.getElementById("coal-furnace").style.backgroundImage = "linear-gradient(135deg, rgba(22, 135, 0, 0.1), rgba(22, 135, 0, 1))";

        document.getElementById("electric-furnace").style.border = "0.3vw solid #333333";
        document.getElementById("electric-furnace").style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.1), rgba(109, 109, 109, 1))";
        calculateMaterials();
    } else if(type == "electric") {
        document.getElementById("electric-furnace").style.border = "0.3vw solid #19ff00";
        document.getElementById("electric-furnace").style.backgroundImage = "linear-gradient(135deg, rgba(22, 135, 0, 0.1), rgba(22, 135, 0, 1))";

        document.getElementById("coal-furnace").style.border = "0.3vw solid #333333";
        document.getElementById("coal-furnace").style.backgroundImage = "linear-gradient(135deg, rgba(109, 109, 109, 0.1), rgba(109, 109, 109, 1))";
        calculateMaterials();
    }
}

let plastic = 0;

function calculateMaterials() {
    for(i = 0; i < materials.length; i++) {
        materials[i].amount = 0;
        materials[i].stacks = 0;
        materials[i].remainder = 0;
    }
    for(i = 0; i < extendedMaterials.length; i++) {
        extendedMaterials[i].amount = 0;
        extendedMaterials[i].stacks = 0;
        extendedMaterials[i].remainder = 0;
    }

    if(furnace == "coal") {
        for(i = 0; i < guns.length; i++) {
            materials[1].amount += (guns[i].coal * guns[i].amount);
        }

        for(i = 0; i < attachments.length; i++) {
            materials[1].amount += (attachments[i].coal * attachments[i].amount);
        }
    }

    //Copper
    for(i = 0; i < guns.length; i++) {
        materials[0].amount += (guns[i].copper * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[0].amount += (attachments[i].copper * attachments[i].amount);
    }
    //Iron
    for(i = 0; i < guns.length; i++) {
        materials[2].amount += (guns[i].iron * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[2].amount += (attachments[i].iron * attachments[i].amount);
    }
    //Silver
    for(i = 0; i < guns.length; i++) {
        materials[3].amount += (guns[i].silver * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[3].amount += (attachments[i].silver * attachments[i].amount);
    }
    //Gold
    for(i = 0; i < guns.length; i++) {
        materials[4].amount += (guns[i].gold * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[4].amount += (attachments[i].gold * attachments[i].amount);
    }
    //Titanium
    for(i = 0; i < guns.length; i++) {
        materials[5].amount += (guns[i].titanium * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[5].amount += (attachments[i].titanium * attachments[i].amount);
    }
    //Wood Log
    for(i = 0; i < guns.length; i++) {
        materials[6].amount += (guns[i].wood * guns[i].amount);
    }
    //Maple Log
    for(i = 0; i < guns.length; i++) {
        materials[7].amount += (guns[i].maple * guns[i].amount);
    }
    //Willow Log
    for(i = 0; i < guns.length; i++) {
        materials[8].amount += (guns[i].willow * guns[i].amount);
    }
    //Cash
    for(i = 0; i < guns.length; i++) {
        materials[9].amount += (guns[i].price * guns[i].amount);
    }
    for(i = 0; i < attachments.length; i++) {
        materials[9].amount += (attachments[i].price * attachments[i].amount);
    }

    //Extended Material Calculations
    extendedMaterials[0].amount = materials[0].amount / 2;
    extendedMaterials[1].amount = materials[2].amount / 2;
    //Steel
    for(i = 0; i < guns.length; i++) {
        extendedMaterials[2].amount += guns[i].steel * guns[i].amount;
    }
    for(i = 0; i < attachments.length; i++) {
        extendedMaterials[2].amount += attachments[i].steel * attachments[i].amount;
    }
    //Could use a for loop here but ehhh, what the hell...
    extendedMaterials[3].amount = materials[3].amount / 2;
    extendedMaterials[4].amount = materials[4].amount / 2;
    extendedMaterials[5].amount = materials[5].amount / 2;
    extendedMaterials[6].amount = materials[6].amount / 4;
    extendedMaterials[7].amount = materials[7].amount / 4;
    extendedMaterials[8].amount = materials[8].amount / 4;

    //Stacks
    for(i = 0; i < materials.length; i++) {
        if(i < 6) {
            //Ores
            materials[i].remainder = (materials[i].amount % 64);
            materials[i].stacks = ((materials[i].amount - materials[i].remainder) / 64);
        } else if(i < materials.length - 1) {
            //Logs
            materials[i].remainder = (materials[i].amount % 128);
            materials[i].stacks = ((materials[i].amount - materials[i].remainder) / 128);
        }
    }
    for(i = 0; i < extendedMaterials.length; i++) {
        if(i < 5) {
            //Ingots
            extendedMaterials[i].remainder = (extendedMaterials[i].amount % 32);
            extendedMaterials[i].stacks = ((extendedMaterials[i].amount - extendedMaterials[i].remainder) / 32);
        } else {
            //Planks
            extendedMaterials[i].remainder = (extendedMaterials[i].amount % 128);
            extendedMaterials[i].stacks = ((extendedMaterials[i].amount - extendedMaterials[i].remainder) / 128);
        }
    }

    for(i = 0; i < materials.length; i++) {
        if(i != materials.length - 1) {
            if(stacksEnabled == true) {
                document.getElementById("material-amount" + i).innerHTML = "Stacks: " + materials[i].stacks + " <span style='color: black;'>|</span> Remainder: " + materials[i].remainder;
            } else {
                document.getElementById("material-amount" + i).innerHTML = "Amount: " + numberWithCommas(materials[i].amount);
            }
        } else {
            document.getElementById("material-amount" + i).innerHTML = "Amount: $" + numberWithCommas(materials[i].amount);
        }
    }

    for(i = 0; i < materials.length - 1; i++) {
        if(toggled[i] == true) {
            if(stacksEnabled == true) {
                document.getElementById("extended-material-amount" + i).innerHTML = "Stacks: " + extendedMaterials[i].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[i].remainder;
            } else {
                document.getElementById("extended-material-amount" + i).innerHTML = "Amount: " + numberWithCommas(extendedMaterials[i].amount);
            }
        }
    }
    if(toggled[2] == true) {
        if(stacksEnabled == true) {
            document.getElementById("extended-material-amount1").innerHTML = "Stacks: " + extendedMaterials[1].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[1].remainder;
            document.getElementById("extended-material-amount2").innerHTML = "Stacks: " + extendedMaterials[2].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[2].remainder;
        } else {
            document.getElementById("extended-material-amount1").innerHTML = "Amount: " + numberWithCommas(extendedMaterials[1].amount);
            document.getElementById("extended-material-amount2").innerHTML = "Amount: " + numberWithCommas(extendedMaterials[2].amount);
        }
    }

    timeEstimation();

    //Plastic
    plastic = 0;

    //Kevlar
    for(i = 0; i < guns.length; i++) {
        if(guns[i].name == "Crafted Kevlar") {
            if(guns[i].amount > 0) {
                alertPlastic(i, 1);
                alerted = true;
            } else {
                alertPlastic(i, 0);
                alerted = false;
            }

            plastic = guns[i].plastic * guns[i].amount;
            document.getElementById("plastic-alert-amount").innerHTML = "Amount: " + plastic;
        }
    }
}

let alerted = false;

function alertPlastic(index, type) {
    if(type == 1) {
        //Show alert
        document.getElementById("material-container").appendChild(document.getElementById("plastic-alert-container"));
        document.getElementById("plastic-alert-container").style.visibility = "visible";

        document.getElementById("material-container").appendChild(document.getElementById("plastic-alert2-container"));
        if(alerted == false) {
            document.getElementById("plastic-alert2-container").style.visibility = "visible";
            document.getElementById("plastic-alert2-container").style.opacity = "0%";
            let plasOpac = 0;
            let startAlertInterval = setInterval(function() {
                if(plasOpac != 100) {
                    document.getElementById("plastic-alert2-container").style.opacity =  plasOpac + "%";
                    plasOpac++;
                } else {
                    clearInterval(startAlertInterval);
                }
            }, 20);
            setTimeout(function() {
                let endAlertInterval = setInterval(function() {
                    if(plasOpac != 0) {
                        document.getElementById("plastic-alert2-container").style.opacity =  plasOpac + "%";
                        plasOpac--;
                    } else {
                        clearInterval(endAlertInterval);
                        document.getElementById("plastic-alert2-container").style.visibility = "hidden";
                    }
                }, 20);
            }, 5000);
        }
    } else if(type == 0) {
        //Hide alert
        document.body.appendChild(document.getElementById("plastic-alert-container"));
        document.getElementById("plastic-alert-container").style.visibility = "hidden";
    }
}

let toggled = [false, false, false, false, false, false, false, false, false];

for(i = 0; i < materials.length; i++) {
    if(i != materials.length - 1) {
        document.getElementById("material-item-container" + i).onclick = function() {
            let selectedId = parseInt(this.id.substring(23));
            if(toggled[selectedId] == false) {
                toggled[selectedId] = true;
                generateExtendedMaterial(selectedId, true);
            } else {
                toggled[selectedId] = false;
                generateExtendedMaterial(selectedId, false);
            }
        }
    }
}

function generateExtendedMaterial(selectedId, open) {
    if(open == true) {
        //Generate the extended material for that selectedId

        //Iron + Steel
        if(selectedId == 1) {
            //Placeholder
        } else if(selectedId == 2) {
            const container = document.createElement("div");
            container.id = "extended-material-container1";
            container.style.position = "relative";
            container.style.width = "37.5vw";
            container.style.height = "3vw";
            container.style.top = "-3.5vw";
            container.style.left = "0%";
            container.style.borderTop = "1px solid gray";

            const image = document.createElement("img");
            image.id = "extended-material-image1";
            image.setAttribute("src", extendedMaterials[1].image);
            image.setAttribute("title", extendedMaterials[1].name);
            image.style.position = "absolute";
            image.style.top = "0.2vw";
            image.style.left = "0.2vw";
            image.style.width = "2.25vw";
            image.style.border = "0.175vw solid rgb(50, 50, 50)"
            image.style.borderRadius = "0.25vw";

            const name = document.createElement("div");
            name.id = "extended-material-name1";
            name.innerHTML = extendedMaterials[1].name;
            name.style.color = "white";
            name.style.fontSize = "1vw";
            name.style.fontWeight = "bold";
            name.style.position = "absolute";
            name.style.top = "0.2vw";
            name.style.left = "3.25vw";

            const amount = document.createElement("div");
            amount.id = "extended-material-amount1";
            if(stacksEnabled == true) {
                amount.innerHTML = "Stacks: " + extendedMaterials[1].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[1].remainder;
            } else {
                amount.innerHTML = "Amount: " + extendedMaterials[1].amount;
            }
            amount.style.color = "white";
            amount.style.fontSize = "1vw";
            amount.style.fontWeight = "500";
            amount.style.position = "absolute";
            amount.style.top = "1.25vw";
            amount.style.left = "3.25vw";

            const container2 = document.createElement("div");
            container2.id = "extended-material-container2";
            container2.style.position = "relative";
            container2.style.width = "37.5vw";
            container2.style.height = "3vw";
            container2.style.top = "-3.5vw";
            container2.style.left = "0%";
            container2.style.borderTop = "1px solid gray";

            const image2 = document.createElement("img");
            image2.id = "extended-material-image2";
            image2.setAttribute("src", extendedMaterials[2].image);
            image2.setAttribute("title", extendedMaterials[2].name);
            image2.style.position = "absolute";
            image2.style.top = "0.2vw";
            image2.style.left = "0.2vw";
            image2.style.width = "2.25vw";
            image2.style.border = "0.175vw solid rgb(50, 50, 50)"
            image2.style.borderRadius = "0.25vw";

            const name2 = document.createElement("div");
            name2.id = "extended-material-name2";
            name2.innerHTML = extendedMaterials[2].name;
            name2.style.color = "white";
            name2.style.fontSize = "1vw";
            name2.style.fontWeight = "bold";
            name2.style.position = "absolute";
            name2.style.top = "0.2vw";
            name2.style.left = "3.25vw";

            const amount2 = document.createElement("div");
            amount2.id = "extended-material-amount2";
            if(stacksEnabled == true) {
                amount2.innerHTML = "Stacks: " + extendedMaterials[2].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[2].remainder;
            } else {
                amount2.innerHTML = "Amount: " + extendedMaterials[2].amount;
            }
            amount2.style.color = "white";
            amount2.style.fontSize = "1vw";
            amount2.style.fontWeight = "500";
            amount2.style.position = "absolute";
            amount2.style.top = "1.25vw";
            amount2.style.left = "3.25vw";
        
            document.getElementById("material-item-container2").appendChild(container);
            document.getElementById("material-item-container2").appendChild(container2);
            container.appendChild(image);
            container.appendChild(name);
            container.appendChild(amount);

            container2.appendChild(image2);
            container2.appendChild(name2);
            container2.appendChild(amount2);
        
            document.getElementById("material-item-container" + selectedId).style.paddingBottom = "6vw";
        } else {
            const container = document.createElement("div");
            container.id = "extended-material-container" + selectedId;
            container.style.position = "relative";
            container.style.width = "37.5vw";
            container.style.height = "3vw";
            container.style.top = "-3.5vw";
            container.style.left = "0%";
            container.style.borderTop = "1px solid gray";

            const image = document.createElement("img");
            image.id = "extended-material-image" + selectedId;
            image.setAttribute("src", extendedMaterials[selectedId].image);
            image.setAttribute("title", extendedMaterials[selectedId].name);
            image.style.position = "absolute";
            image.style.top = "0.2vw";
            image.style.left = "0.2vw";
            image.style.width = "2.25vw";
            image.style.border = "0.175vw solid rgb(50, 50, 50)"
            image.style.borderRadius = "0.25vw";

            const name = document.createElement("div");
            name.id = "extended-material-name" + selectedId;
            name.innerHTML = extendedMaterials[selectedId].name;
            name.style.color = "white";
            name.style.fontSize = "1vw";
            name.style.fontWeight = "bold";
            name.style.position = "absolute";
            name.style.top = "0.2vw";
            name.style.left = "3.25vw";

            const amount = document.createElement("div");
            amount.id = "extended-material-amount" + selectedId;
            if(stacksEnabled == true) {
                amount.innerHTML = "Stacks: " + extendedMaterials[selectedId].stacks + " <span style='color: black;'>|</span> Remainder: " + extendedMaterials[selectedId].remainder;
            } else {
                amount.innerHTML = "Amount: " + extendedMaterials[selectedId].amount;
            }
            amount.style.color = "white";
            amount.style.fontSize = "1vw";
            amount.style.fontWeight = "500";
            amount.style.position = "absolute";
            amount.style.top = "1.25vw";
            amount.style.left = "3.25vw";
        
            document.getElementById("material-item-container" + selectedId).appendChild(container);
            container.appendChild(image);
            container.appendChild(name);
            container.appendChild(amount);
        
            document.getElementById("material-item-container" + selectedId).style.paddingBottom = "3vw";
        }
    } else if(open == false) {
        //Delete the extended material for that selectedId
        if(selectedId == 1) {
            //Placeholder
        } else if(selectedId == 2) {
            document.getElementById("extended-material-container1").remove();
            document.getElementById("extended-material-container2").remove();
            document.getElementById("material-item-container" + selectedId).style.paddingBottom = "0vw";
        } else {
            document.getElementById("extended-material-container" + selectedId).remove();
            document.getElementById("material-item-container" + selectedId).style.paddingBottom = "0vw";
        }
    }
}

let stacksEnabled = false;

function changeStackType() {
    if(stacksEnabled == false) {
        //Turn stack viewer on
        stacksEnabled = true;
        calculateMaterials();
        document.getElementById("stack-type").innerHTML = "Stacks: On";
    } else if(stacksEnabled == true) {
        //Turn stack viewer off
        stacksEnabled = false;
        calculateMaterials();
        document.getElementById("stack-type").innerHTML = "Stacks: Off";
    }
}

//LocalStorage for prestiges
let prestiges = [false, false, false];
if(localStorage.getItem("prestiges") != undefined) {
    for(i = 0; i < JSON.parse(localStorage.getItem("prestiges")).length; i++) {
        prestiges[i] = JSON.parse(localStorage.getItem("prestiges"))[i];
        if(JSON.parse(localStorage.getItem("prestiges"))[i] == true) {
            $("#prestige-container" + i).addClass("active");
        }
    }
}

function changePrestiges(skill) {
    if(prestiges[skill] == false) {
        prestiges[skill] = true;
        $("#prestige-container" + skill).addClass("active");
    } else if(prestiges[skill] == true) {
        prestiges[skill] = false;
        $("#prestige-container" + skill).removeClass("active");
    }

    timeEstimation();

    localStorage.setItem("prestiges", JSON.stringify(prestiges));
}

//Time estimation
let seconds = 0;
let minutes = 0;
let hours = 0;
let presentableSeconds = "";
let presentableMinutes = "";
let presentableHours = "";
let gunsHaveBeenAdded = false;

//*Electric furnace - extra 2 minutes (120s)
//*Coal furnace - extra 30 seconds
//*Per ore, add 7 seconds each
//*Per ingot, add 8 seconds each
//*Per Weapon, add 15 seconds

function timeEstimation() {
    //Reinitialize all time components
    seconds = 0;
    minutes = 0;
    hours = 0;
    presentableSeconds = "";
    presentableMinutes = "";
    presentableHours = "";
    gunsHaveBeenAdded = false;

    if(furnace == "coal") {
        seconds += 20;
    } else if(furnace == "electric") {
        seconds += 80;
    }

    for(i = 0; i < materials.length - 4; i++) {
        if(prestiges[0] == true) {
            seconds += (5 * materials[i].amount);
        } else {
            seconds += (6 * materials[i].amount);
        }
    }
    for(i = materials.length - 4; i < materials.length - 1; i++) {
        if(prestiges[2] == true) {
            seconds += (5 * materials[i].amount);
        } else {
            seconds += (6 * materials[i].amount);
        }
    }
    for(i = 0; i < extendedMaterials.length; i++) {
        if(prestiges[1] == true) {
            seconds += (6 * extendedMaterials[i].amount);
        } else {
            seconds += (7 * extendedMaterials[i].amount);
        }
    }
    for(i = 0; i < guns.length; i++) {
        if(i < 39 || i > 44) {
            seconds += (10 * guns[i].amount);
            if(guns[i].amount > 0) {
                gunsHaveBeenAdded = true;
            }
        }
    }
    for(i = 0; i < attachments.length; i++) {
        seconds += (10 * attachments[i].amount);
        if(attachments[i].amount > 0) {
            gunsHaveBeenAdded = true;
        }
    }

    while(seconds > 59) {
        minutes++;
        seconds -= 60;
    }
    while(minutes > 59) {
        hours++;
        minutes -= 60;
    }

    if(seconds < 10) {
        presentableSeconds = "0" + Math.floor(seconds);
    } else {
        presentableSeconds = Math.floor(seconds);
    }

    if(minutes < 10) {
        presentableMinutes = "0" + minutes;
    } else {
        presentableMinutes = minutes;
    }

    if(hours < 10) {
        presentableHours = "0" + hours;
    } else {
        presentableHours = hours;
    }

    if(gunsHaveBeenAdded == false) {
        document.getElementById("time").innerHTML = "00:00:00";
    } else if(gunsHaveBeenAdded == true) {
        document.getElementById("time").innerHTML = presentableHours + ":" + presentableMinutes + ":" + presentableSeconds;
    }
}

//++Prerequisite(s)
//--title (main title of section as String) [REQUIRED]
//--titleSize (font size of title--in pixels as double or integer) [OPTIONAL]
//--thumbnail (image directory as String) [REQUIRED]
//==subcontent (multidimensional array including subcontent--see below on how to format subcontent) [REQUIRED]

//++subcontent types (input as String):
//==item
//--borderColor (color value as String) [OPTIONAL]
//--color1 (color value as String) [REQUIRED]
//--color2 (color value as String) [REQUIRED]
//--degrees (degree value of gradient as double or integer) [REQUIRED]
//--name (name of item as String) [REQUIRED]
//--image (image directory as String) [REQUIRED]

//==link
//--url (link address as String) [REQUIRED]
//--color (color value as String) [REQUIRED]

//==decorated text
//--color (color value as String) [REQUIRED]
//--underline (yes/no as boolean) [REQUIRED]
//--italics (yes/no as boolean) [REQUIRED]
//--textShadow (properties as String) [OPTIONAL]
//--text (text displayed as String) [REQUIRED]
//--fontSize (size value in pixels as double or integer) [REQUIRED]
//--fontWeight (size format: 500 - light | 600 - medium | bold/1000 - bold) [REQUIRED]
//--textAlign (left, center, right, as String) [REQUIRED]

//==none
//--No further attributes [REQUIRED]
//--Uses parent text atribute

//more coming soon

let changelog = [
    {
        title: "Additions",
        thumbnail: "images/attachment.png",
        subcontent: [
            {
                type: "item",
                color1: "#0048ff",
                color2: "#002177",
                degrees: 135,
                name: "MP-40 Blueprint",
                image: "images/weapons/MP-40.png"
            },
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: false,
                text: "The MP-40 has been a craftable weapon for a while now, requiring a blueprint.",
                fontSize: 18,
                fontWeight: 500,
                textAlign: "center"
            },
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: true,
                text: "@something gracefully gave me the recipe for many of the blueprint weapons, including this one, so it's now in the calculator!",
                fontSize: 18,
                fontWeight: 500,
                textAlign: "center"
            }
        ]
    },
    {
        title: "Fixes & Changes",
        thumbnail: "images/Fix.png",
        subcontent: [
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: false,
                text: "The background has been changed to Monoford.",
                fontSize: 20,
                fontWeight: 500,
                textAlign: "center"
            },
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: false,
                text: "Many other bugs have been patched, including one that causes the estimated time to not change when crafting Silver Ballers.",
                fontSize: 20,
                fontWeight: 500,
                textAlign: "center"
            },
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: false,
                text: "Color scheme has changed.",
                fontSize: 20,
                fontWeight: 500,
                textAlign: "center"
            },
            {
                type: "decorated text",
                color: "white",
                underline: false,
                italics: false,
                text: "The Google Translate feature has been moved into the settings tab.",
                fontSize: 20,
                fontWeight: 500,
                textAlign: "center"
            }
        ]
    }
];

function generateLog() {
    //5% margin on each edge
    //10% margin space divided for all elements
    let width;
    if(changelog.length > 4) {
        width = 100 / changelog.length;
    } else {
        width = 25;
    }

    for(i = 0; i < changelog.length; i++) {
        let container = document.createElement("div");
        $(container).css("width", width + "%")
                    .css("height", "100%")
                    .css("display", "flex")
                    .css("flex-direction", "column")
                    .css("justify-content", "center")
                    .css("align-items", "center")
                    .css("gap", "2%");

        let thumbnail = document.createElement("img");
        $(thumbnail).attr("src", changelog[i].thumbnail)
                    .attr("title", changelog[i].title)
                    .css("max-height", "25%");

        let title = document.createElement("div");
        $(title).html(changelog[i].title)
                .css("color", "white")
                .css("font-weight", "600")
                .css("font-size", "30px")
                .css("text-align", "center");

        if(changelog[i].titleSize != undefined) $(title).css("font-size", changelog[i].titleSize + "px");

        let flexContainer = document.createElement("div");
        $(flexContainer).css("display", "flex")
                        .css("flex-direction", "column")
                        .css("justify-content", "flex-start")
                        .css("align-center", "flex-start")
                        // .css("background-color", "red")
                        .css("width", "100%")
                        .css("overflow-x", "hidden")
                        .css("overflow-y", "auto")
                        .css("height", "calc(80% - 24px")
                        .css("gap", "10px");

        if(changelog[i].titleSize != undefined) $(flexContainer).css("height", "calc(80% - " + changelog[i].titleSize + "px" + ")");

        $("#update-log-content-container").append(container);
        $(container).append(thumbnail)
                    .append(title)
                    .append(flexContainer);

        for(j = 0; j < changelog[i].subcontent.length; j++) {
            //for every item in the subcontent array:
            switch(changelog[i].subcontent[j].type) {
                case "item":
                    let container = document.createElement("div");
                    $(container).css("display", "flex")
                                .css("flex-direction", "row")
                                .css("justify-content", "flex-start")
                                .css("align-items", "center")
                                .css("gap", "10px");

                    $(flexContainer).append(container);

                    let image = document.createElement("img");
                    $(image).attr("src", changelog[i].subcontent[j].image)
                            .attr("title", changelog[i].subcontent[j].name)
                            .css("background-image", "linear-gradient(" + changelog[i].subcontent[j].degrees + "deg, " + changelog[i].subcontent[j].color1 + ", " + changelog[i].subcontent[j].color2 + ")")
                            .css("width", "50px")
                            .css("height", "50px")
                            .css("border-radius", "5px")
                            .css("padding", "4px")
                            .css("margin-left", "5px")
                            .css("cursor", "pointer");

                    if(changelog[i].subcontent[j].borderColor != undefined) $(image).css("border", "3px solid " + changelog[i].subcontent[j].borderColor);

                    let name = document.createElement("div");
                    $(name).html(changelog[i].subcontent[j].name)
                           .css("color", "white")
                           .css("font-size", "24px")
                           .css("font-weight", "500");

                    $(container).append(image)
                                .append(name);
                    break;
                case "link":
                    console.log("Link changelog subcontent is not available currently.");
                    break;
                case "decorated text":
                    let text = document.createElement("div");
                    $(text).html(changelog[i].subcontent[j].text)
                           .css("color", changelog[i].subcontent[j].color)
                           .css("margin", "0 5px 0 5px");

                    if(changelog[i].subcontent[j].underline == false) {
                        $(text).css("text-decoration", "none");
                    } else if(changelog[i].subcontent[j].underline == true) {
                        $(text).css("text-decoration", "underline");
                    }

                    if(changelog[i].subcontent[j].italics == false) {
                        $(text).css("font-style", "none");
                    } else if(changelog[i].subcontent[j].italics == true) {
                        $(text).css("font-style", "italic");
                    }

                    if(typeof changelog[i].subcontent[j].textShadow != "undefined") {
                        $(text).css("text-shadow", changelog[i].subcontent[j].textShadow);
                    }

                    $(text).css("font-size", changelog[i].subcontent[j].fontSize + "px")
                           .css("font-weight", changelog[i].subcontent[j].fontWeight)
                           .css("text-align", changelog[i].subcontent[j].textAlign);

                    $(flexContainer).append(text);
                    break;
                case "none":
                    console.log("None changelog subcontent is not available currently.");
                    break;
            }
        }
    }
}

generateLog();

//Initial Variable (craftingTab) is located in global variables

document.getElementById("weapons-button-container").classList.add("active");

let currentTab = "weapons";

function changeType(type) {
    currentTab = type;

    if(craftingTab != type) {
        //Preventing overflow recreation of the items (also prevents website lag)
        craftingTab = type;

        if(type == "weapons") {
            //Recreate Weapon Containers (and set input box values accordingly) / Remove Attachments
            document.getElementById("weapons-button-container").classList.add("active");
            document.getElementById("weapons-button-container").classList.remove("inactive");
    
            document.getElementById("attachments-button-container").classList.add("inactive");
            document.getElementById("attachments-button-container").classList.remove("active");

            for(i = 0; i < attachments.length; i++) {
                document.getElementById("item-container" + i).remove();
            }

            loadGuns();
        } else if(type == "attachments") {
            //Recreate Attachment Containers (and set input box values accordingly) / Remove Weapons & Items
            document.getElementById("attachments-button-container").classList.add("active");
            document.getElementById("attachments-button-container").classList.remove("inactive");
    
            document.getElementById("weapons-button-container").classList.add("inactive");
            document.getElementById("weapons-button-container").classList.remove("active");
    
            for(i = 0; i < guns.length; i++) {
                document.getElementById("item-container" + i).remove();
            }

            loadAttachments();
        }
    }
}

let bubbles = 0;
let actionmenuActive = false;
let menus = [
    {
        name: "Settings",
        icon: "settings"
    },
    {
        name: "Changelog",
        icon: "format_list_bulleted"
    },
    {
        name: "Tutorial (Coming Soon)",
        icon: "info"
    },
    {
        name: "Betas (Not Available)",
        icon: "new_releases"
    }
];

$("#changelogs-hover").click(function(event) {
    let x = event.clientX;
    let y = event.clientY;
    let currBubble = bubbles;

    let bubble = document.createElement("div");
    $(bubble).addClass("bubble-clicked").css("left", x + "px").css("top", y + "px");
    bubble.id = "bubble" + bubbles;

    $("#header").append(bubble);
    bubbles++;
    setTimeout(function() {
        $("#bubble" + currBubble).remove();
    }, 1000);

    //Create "action" menu
    if(actionmenuActive == true) {
        //remove the current actionmenu and make a new one
        $("#actionmenu-container").remove();
    }

    let actionmenuContainer = document.createElement("div");
    actionmenuContainer.id = "actionmenu-container";
    $(actionmenuContainer).css("left", x + "px").css("top", y + "px");

    $("body").append(actionmenuContainer);

    for(i = 0; i < menus.length; i++) {
        let menuContainer = document.createElement("div");
        $(menuContainer).addClass("menu-container");
        menuContainer.id = "menu-container" + i;
        $(menuContainer).html("<span class='material-icons notranslate'>" + menus[i].icon + "</span>" + menus[i].name).attr("onclick", "actionMenuOpen(" + i +")");

        $("#actionmenu-container").append(menuContainer);
    }

    actionmenuActive = true;
});

//Check if clicked outside of actionmenu box, if so, close the box if it's active
window.onload = function() {
    document.onclick = function(e) {
        if(actionmenuActive == true) {
            if(e.target.id != "changelogs-hover" && !e.target.classList.contains("menu-container")) {
                $("#actionmenu-container").remove();
                actionmenuActive = false;
            }
        }
    };
};

function actionMenuOpen(menu) {
    //Menu actions are executed here
    switch(menu) {
        case 0:
            //Settings
            document.getElementById("settings-container").style.visibility = "visible";
            document.getElementById("settings-container").style.opacity = "100%";
            $("#actionmenu-container").remove();
            break;
        case 1:
            //Changelog
            document.getElementById("update-log-container").style.visibility = "visible";
            document.getElementById("update-log-container").style.opacity = "100%";
            $("#actionmenu-container").remove();
            break;
        case 2:
            //Help
            $("#menu-container2").addClass("colorAffect");
            setTimeout(function() {
                $("#menu-container2").removeClass("colorAffect");
            }, 1000);
            break;
        case 3:
            //Active Betas
            $("#menu-container3").addClass("colorAffect");
            setTimeout(function() {
                $("#menu-container3").removeClass("colorAffect");
            }, 1000);
            break;
    }
    //remove the actionmenu here when all tabs are available in future updates
}

function closeLog() {
    document.getElementById("update-log-container").style.opacity = "0%";
    document.getElementById("update-log-container").style.visibility = "hidden";
}

function coloredLog(msg, color) {
    console.warn("%c" + msg, "color:" + color + ";font-weight:600; font-family: Purista;");
}

coloredLog("Monolith Crafting Calculator [ Version " + version + " ] | Created by: ClutchMasterFTW", "white");